<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Tutorial: browser</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Tutorial: browser</h1>

    <section>

<header>
    

    <h2>browser</h2>
</header>

<article>
    <!DOCTYPE html>
<html>

<head>
    <script src="https://cdn.jsdelivr.net/npm/promise-polyfill@7/dist/polyfill.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fetch/2.0.3/fetch.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dropbox/dist/Dropbox-sdk.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dropbox-oauth-popup@1.4.1/dist/dropboxPopup.js"></script>
</head>

<body>
    <div>
        <h1>Dropbox OAuth Popup Window</h1>
        <p>
            See the Dropbox OAuth Popup Window in action by clicking the run example button.
            This example will authenticate with your Dropbox account and use the token to fetch
            the current account using the `users.getCurrentAccount` endpoint. (Note, nothing is
            saved, this is just a demo.)
        </p>
        <p>See the code on <a
                href="https://github.com/rogebrd/dropbox-oauth-popup/blob/main/examples/browser.html">GitHub</a></p>
        <button onclick="runAuth()">Run Example</button>
        <p id="result"></p>
        <script>
            const popup = new DropboxPopup({
                clientId: 'a04f1ghft6a45rn',
                clientSecret: 'tbjemcamktbyiy9',
                redirectUri: 'https://rogebrd.github.io/dropbox-oauth-popup/tutorial-browser.html'
            });
            function runAuth() {
                document.getElementById("result").innerHTML = "Waiting for auth...";
                popup.authUser((auth) => {
                    const dbx = new Dropbox.Dropbox(auth);
                    dbx.usersGetCurrentAccount()
                        .then((response) => {
                            document.getElementById("result").innerHTML = JSON.stringify(response.result);
                        })
                        .catch((error) => {
                            document.getElementById("result").innerHTML = error;
                        });
                });
            }
        </script>
    </div>
</body>

</html>
</article>

</section>

</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="DropboxPopup.html">DropboxPopup</a></li></ul><h3>Tutorials</h3><ul><li><a href="tutorial-browser.html">browser</a></li></ul><h3>Global</h3><ul><li><a href="global.html#authUser">authUser</a></li><li><a href="global.html#dispatchResult">dispatchResult</a></li><li><a href="global.html#handleRedirect">handleRedirect</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.6</a> on Wed Oct 21 2020 04:32:41 GMT+0000 (Coordinated Universal Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>